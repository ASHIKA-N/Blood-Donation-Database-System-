<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Donor Dashboard - ARYAMS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
    }
    .header {
      background-color: #dc3545;
      color: white;
      text-align: center;
      padding: 1.2rem;
      border-radius: 8px;
    }
    .card {
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      transition: all 0.2s ease;
    }
    .card:hover {
      transform: scale(1.02);
    }
    .section-title {
      border-left: 5px solid #dc3545;
      padding-left: 10px;
      margin-bottom: 15px;
      color: #dc3545;
    }
  </style>
</head>

<body>
  <div class="container py-4">
    <div class="header mb-4">
      <h2>üßç‚Äç‚ôÇÔ∏è Donor Dashboard</h2>
      <p>View Profile, Appointments, and Request Donations</p>
    </div>

    <!-- Donor Profile Section -->
    <div class="card mb-4">
      <div class="card-body">
        <h4 class="section-title">Profile Details</h4>
        <p><strong>Name:</strong> Aashin A P</p>
        <p><strong>Gender:</strong> Male</p>
        <p><strong>Age:</strong> 24</p>
        <p><strong>Contact:</strong> 9876543210</p>
        <p><strong>Address:</strong> 123 MG Road, Chennai</p>
        <p><strong>Donation History:</strong> 3 successful donations (Last on 12 Sep 2025)</p>
        <button class="btn btn-outline-primary btn-sm" data-bs-toggle="modal" data-bs-target="#editProfileModal">‚úèÔ∏è Edit Info</button>
      </div>
    </div>

    <!-- Upcoming Appointments -->
    <div class="card mb-4">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <h4 class="section-title mb-0">üìÖ Upcoming Appointments</h4>
          <button class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#requestAppModal">‚ûï Request Appointment</button>
        </div>
        <hr>
        <table class="table table-bordered table-striped mt-2">
          <thead class="table-danger text-center">
            <tr>
              <th>Appointment ID</th>
              <th>Date</th>
              <th>Time</th>
              <th>Blood Bank</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="appointmentTable">
            <tr>
              <td>APP101</td>
              <td>2025-10-30</td>
              <td>10:00 AM</td>
              <td>LifeStream Blood Bank</td>
              <td><span class="badge bg-warning">Scheduled</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Modal: Request New Appointment -->
    <div class="modal fade" id="requestAppModal" tabindex="-1" aria-labelledby="requestAppLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header bg-danger text-white">
            <h5 class="modal-title" id="requestAppLabel">‚ûï Request Appointment</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form id="appointmentForm">
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">Select Blood Bank</label>
                  <select class="form-select" id="bloodBank" required>
                    <option selected disabled>-- Choose Blood Bank --</option>
                    <option value="BB01">LifeStream Blood Bank</option>
                    <option value="BB02">RedCross Blood Center</option>
                  </select>
                </div>
                <div class="col-md-6 mb-3">
                  <label class="form-label">Select Date</label>
                  <input type="date" class="form-control" id="appDate" required>
                </div>
                <div class="col-md-6 mb-3">
                  <label class="form-label">Select Time</label>
                  <input type="time" class="form-control" id="appTime" required>
                </div>
              </div>
              <button type="submit" class="btn btn-danger w-100">Submit Appointment Request</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal: Edit Profile -->
    <div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header bg-danger text-white">
            <h5 class="modal-title" id="editProfileLabel">‚úèÔ∏è Edit Profile Information</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form id="editForm">
              <div class="mb-3">
                <label class="form-label">Contact</label>
                <input type="number" class="form-control" id="editContact" value="9876543210" required>
              </div>
              <div class="mb-3">
                <label class="form-label">Address</label>
                <input type="text" class="form-control" id="editAddress" value="123 MG Road, Chennai" required>
              </div>
              <button type="submit" class="btn btn-danger w-100">Save Changes</button>
            </form>
          </div>
        </div>
      </div>
    </div>

  </div><!-- container end -->

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Add appointment dynamically
    document.getElementById("appointmentForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const bank = document.getElementById("bloodBank").options[document.getElementById("bloodBank").selectedIndex].text;
      const date = document.getElementById("appDate").value;
      const time = document.getElementById("appTime").value;

      const newRow = `
        <tr>
          <td>APP${Math.floor(Math.random() * 1000)}</td>
          <td>${date}</td>
          <td>${time}</td>
          <td>${bank}</td>
          <td><span class="badge bg-warning">Scheduled</span></td>
        </tr>`;
      document.getElementById("appointmentTable").insertAdjacentHTML("beforeend", newRow);
      this.reset();
      bootstrap.Modal.getInstance(document.getElementById("requestAppModal")).hide();
    });

    // Edit profile dynamically
    document.getElementById("editForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const newContact = document.getElementById("editContact").value;
      const newAddress = document.getElementById("editAddress").value;
      alert(`Profile updated:\nContact: ${newContact}\nAddress: ${newAddress}`);
      bootstrap.Modal.getInstance(document.getElementById("editProfileModal")).hide();
    });
  </script>
</body>
</html>
