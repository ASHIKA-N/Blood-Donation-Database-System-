<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Invoice Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      font-family: "Segoe UI", sans-serif;
    }
    .header {
      background-color: red;
      color: white;
      text-align: center;
      padding: 25px 0;
      margin-bottom: 40px;
    }
    .header h1 {
      font-weight: bold;
      letter-spacing: 1px;
    }
    .table-container {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      padding: 20px;
      margin: 20px auto;
      width: 90%;
    }
    .table th {
      background-color: red;
      color: white;
      text-align: center;
    }
    .btn-nav {
      text-align: center;
      margin: 40px 0;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <div class="header">
    <h1>Invoice Dashboard</h1>
    <p>All generated invoices and their linked orders</p>
  </div>

  <!-- Invoice Table -->
  <div class="table-container">
    <h4 class="text-danger mb-3">Invoices Summary</h4>
    <table class="table table-bordered table-hover text-center align-middle">
      <thead>
        <tr>
          <th>Invoice ID</th>
          <th>Date</th>
          <th>Time</th>
          <th>Amount (â‚¹)</th>
          <th>Status</th>
          <th>Order ID</th>
        </tr>
      </thead>
      <tbody>
        {% for i in invoices %}
        <tr>
          <td>{{ i.In_id }}</td>
          <td>{{ i.In_date }}</td>
          <td>{{ i.In_time }}</td>
          <td>{{ i.In_amount }}</td>
          <td>{{ i.In_status }}</td>
          <td>{{ i.Or1_id }}</td>
        </tr>
        {% endfor %}
        {% if not invoices %}
        <tr><td colspan="6">No invoices found.</td></tr>
        {% endif %}
      </tbody>
    </table>
  </div>

  <!-- Linked Orders -->
  <div class="table-container">
    <h4 class="text-danger mb-3">Linked Orders with Hospital and Customer</h4>
    <table class="table table-bordered table-hover text-center align-middle">
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Order Date</th>
          <th>Quantity</th>
          <th>Status</th>
          <th>Type</th>
          <th>Hospital Name</th>
          <th>Customer Name</th>
        </tr>
      </thead>
      <tbody>
        {% for o in orders %}
        <tr>
          <td>{{ o.Or_id }}</td>
          <td>{{ o.Or_date }}</td>
          <td>{{ o.Or_quantity }}</td>
          <td>{{ o.Or_status }}</td>
          <td>{{ o.Or_type }}</td>
          <td>{{ o.Hs_name }}</td>
          <td>{{ o.C_name }}</td>
        </tr>
        {% endfor %}
        {% if not orders %}
        <tr><td colspan="7">No linked orders found.</td></tr>
        {% endif %}
      </tbody>
    </table>
  </div>

  <!-- Transactions -->
  <div class="table-container mb-5">
    <h4 class="text-danger mb-3">Payment Transactions</h4>
    <table class="table table-bordered table-hover text-center align-middle">
      <thead>
        <tr>
          <th>Transaction ID</th>
          <th>Date</th>
          <th>Time</th>
          <th>Mode</th>
          <th>Status</th>
          <th>Invoice ID</th>
        </tr>
      </thead>
      <tbody>
        {% for t in transactions %}
        <tr>
          <td>{{ t.T_id }}</td>
          <td>{{ t.T_date }}</td>
          <td>{{ t.T_time }}</td>
          <td>{{ t.T_mode }}</td>
          <td>{{ t.T_status }}</td>
          <td>{{ t.In1_id }}</td>
        </tr>
        {% endfor %}
        {% if not transactions %}
        <tr><td colspan="6">No transactions found.</td></tr>
        {% endif %}
      </tbody>
    </table>
  </div>

  <!-- Navigation -->
  <div class="btn-nav">
    <a href="/" class="btn btn-secondary m-2">Back to Home</a>
    <a href="/admin" class="btn btn-danger m-2">Admin Dashboard</a>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
