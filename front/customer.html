{% extends "base.html" %}
{% block content %}

<h2 class="text-center text-danger fw-bold mb-4">ðŸ§‘ Customer Management</h2>

<div class="card shadow-sm p-4 mb-4 border-0 rounded-4">

    <h4 class="text-danger fw-bold mb-3 text-center">âž• Add Customer</h4>
    
    <form method="POST" action="/customer">

        <div class="row g-3">

            <div class="col-md-6">
                <label class="form-label fw-semibold">Customer Name</label>
                <input type="text" name="C_name" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold">Contact Number</label>
                <input type="text" name="C_contact" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold">Gender</label>
                <select name="C_gender" class="form-control" required>
                    <option value="">Select</option>
                    <option>Male</option>
                    <option>Female</option>
                    <option>Other</option>
                </select>
            </div>
            <div class="col-md-6">
    <label class="form-label fw-semibold">Hospital</label>
    <select name="Hs1_id" class="form-select">
        <option value="">None</option>
        {% for h in hospitals %}
        <option value="{{ h[0] }}">{{ h[1] }}</option>
        {% endfor %}
    </select>
</div>

            <div class="col-md-12">
                <label class="form-label fw-semibold">Address</label>
                <textarea name="C_address" class="form-control" rows="2"></textarea>
            </div>

            <input type="hidden" name="C_history" value="New">

        </div>

        <div class="text-center mt-3">
            <button class="btn btn-danger px-5 py-2 fw-semibold">Add Customer</button>
        </div>

    </form>

</div>


<h4 class="text-danger fw-bold mb-3 text-center">ðŸ“‹ Customer List</h4>

{% if customers %}
<table class="table table-bordered table-striped shadow-sm text-center">
    <thead class="table-danger">
    <tr>
        {% for h in customers[0].keys() %}
            <th>{{ h }}</th>
        {% endfor %}
    </tr>
    </thead>

    <tbody>
    {% for row in customers %}
        <tr>
            {% for v in row.values() %}
                <td>{{ v }}</td>
            {% endfor %}
        </tr>
    {% endfor %}
    </tbody>
</table>

{% else %}
<div class="alert alert-warning fw-bold text-center">
    âš  No customer records found.
</div>
{% endif %}

<div class="text-center mt-4">
    <a href="/donor" class="btn btn-outline-dark px-5 py-2">â¬… Donors</a>
    <a href="/appointments" class="btn btn-danger px-5 py-2">Next: Appointments âžœ</a>
</div>

{% endblock %}
