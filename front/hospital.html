<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hospital Portal - ARYAMS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-5">
  
  <!-- üè• HOSPITAL REGISTRATION -->
  <h2 class="text-center text-danger mb-4 fw-bold">üè• Hospital Registration</h2>

  <form method="POST" action="/hospital" class="card p-4 shadow-sm mb-5 border-0 rounded-4">
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Name</label>
        <input name="Hs_name" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">Contact</label>
        <input name="Hs_contact" class="form-control" required>
      </div>
      <div class="col-12">
        <label class="form-label">Address</label>
        <textarea name="Hs_address" class="form-control" rows="2"></textarea>
      </div>
      <div class="col-12">
        <label class="form-label">Foundation ID</label>
        <input name="F1_id" type="number" class="form-control">
      </div>
      <div class="text-center">
        <button class="btn btn-danger mt-3 px-4">Add Hospital</button>
      </div>
    </div>
  </form>

  <!-- üèõ REGISTERED HOSPITALS -->
  <h4 class="text-center text-danger mb-3 fw-bold">üèõ Registered Hospitals</h4>
  <table class="table table-bordered table-striped shadow-sm text-center">
    <thead class="table-danger">
      <tr><th>ID</th><th>Name</th><th>Contact</th><th>Address</th><th>Foundation ID</th></tr>
    </thead>
    <tbody>
      {% for h in hospitals %}
      <tr>
        <td>{{h.HS_ID}}</td>
        <td>{{h.HS_NAME}}</td>
        <td>{{h.HS_CONTACT}}</td>
        <td>{{h.HS_ADDRESS}}</td>
        <td>{{h.F1_ID}}</td>
      </tr>
      {% endfor %}
      {% if not hospitals %}
      <tr><td colspan="5" class="text-muted">No hospital records found.</td></tr>
      {% endif %}
    </tbody>
  </table>

  <hr class="my-5 border-danger border-2">

  <!-- üíâ ORDER BLOOD FOR CUSTOMER -->
  <h3 class="text-center text-danger fw-bold mb-4">ü©∏ Request Blood from Blood Bank</h3>
  <form method="POST" action="/hospital_order" class="card p-4 shadow-sm border-0 rounded-4 mb-5">
    <div class="row g-3">

      <div class="col-md-4">
        <label class="form-label">Hospital ID</label>
        <input type="number" name="Hs2_id" class="form-control" placeholder="Enter Hospital ID" required>
      </div>

      <div class="col-md-4">
        <label class="form-label">Customer ID</label>
        <input type="number" name="C2_id" class="form-control" placeholder="Enter Customer ID" required>
      </div>

      <div class="col-md-4">
        <label class="form-label">Select Blood Bank ID</label>
        <input type="number" name="BB4_id" class="form-control" placeholder="Enter Blood Bank ID" required>
      </div>

      <div class="col-md-4">
        <label class="form-label">Blood Type</label>
        <select name="Or_type" class="form-select" required>
          <option value="">-- Select Type --</option>
          <option value="A+">A+</option>
          <option value="A-">A-</option>
          <option value="B+">B+</option>
          <option value="B-">B-</option>
          <option value="AB+">AB+</option>
          <option value="AB-">AB-</option>
          <option value="O+">O+</option>
          <option value="O-">O-</option>
        </select>
      </div>

      <div class="col-md-4">
        <label class="form-label">Quantity (ml)</label>
        <input type="number" name="Or_quantity" class="form-control" placeholder="Enter Volume" required>
      </div>

      <div class="text-center mt-3">
        <button class="btn btn-danger px-5">Submit Blood Request</button>
      </div>
    </div>
  </form>

  <!-- üìã LIST OF BLOOD ORDERS -->
  <h4 class="text-center text-danger mb-3 fw-bold">üìã Blood Orders Placed</h4>
  <table class="table table-bordered table-striped shadow-sm text-center">
    <thead class="table-dark">
      <tr>
        <th>Order ID</th><th>Hospital</th><th>Customer</th><th>Blood Bank</th><th>Type</th><th>Quantity</th><th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for o in orders %}
      <tr>
        <td>{{o.OR_ID}}</td>
        <td>{{o.HS_NAME}}</td>
        <td>{{o.C_NAME}}</td>
        <td>{{o.BB_NAME}}</td>
        <td>{{o.OR_TYPE}}</td>
        <td>{{o.OR_QUANTITY}}</td>
        <td>{{o.OR_STATUS}}</td>
      </tr>
      {% endfor %}
      {% if not orders %}
      <tr><td colspan="7" class="text-muted">No orders placed yet.</td></tr>
      {% endif %}
    </tbody>
  </table>
<div class="text-center mt-3">
  <a href="/hospital_payment" class="btn btn-outline-danger">üí≥ Go to Payment Page</a>
</div>

  <div class="text-center mt-4">
    <a href="/" class="btn btn-outline-dark px-5">‚¨Ö Back to Home</a>
  </div>

</div>
</body>
</html>
