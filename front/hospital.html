<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hospital Portal - ARYAMS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">
<div class="container py-5">

  <!-- HEADER -->
  <h2 class="text-center text-danger fw-bold mb-4">
    üè• Hospital Blood Request Portal
  </h2>

  <!-- BLOOD REQUEST FORM -->
  <div class="card p-4 shadow-sm mb-5">
    <h4 class="text-danger fw-bold mb-3 text-center">üíâ Request Blood From Blood Bank</h4>

    <form method="POST" action="/hospital_order">
      <div class="row g-3">

        <!-- Hospital ID -->
        <div class="col-md-4">
          <label class="form-label fw-semibold">Hospital ID</label>
          <input name="Hs2_id" type="number" class="form-control" required>
        </div>

        <!-- Patient Name -->
        <div class="col-md-4">
          <label class="form-label fw-semibold">Patient Name</label>
          <input name="C_name" type="text" class="form-control" required>
        </div>

        <!-- Patient Contact -->
        <div class="col-md-4">
          <label class="form-label fw-semibold">Patient Contact</label>
          <input name="C_contact" type="text" class="form-control" required>
        </div>

        <!-- Patient Gender -->
        <div class="col-md-4">
          <label class="form-label fw-semibold">Gender</label>
          <select name="C_gender" class="form-select" required>
            <option value="">-- Select --</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
          </select>
        </div>

        <!-- Patient Address -->
        <div class="col-md-8">
          <label class="form-label fw-semibold">Patient Address</label>
          <input name="C_address" type="text" class="form-control" required>
        </div>

        <!-- Blood Bank ID -->
        <div class="col-md-4">
          <label class="form-label fw-semibold">Blood Bank ID</label>
          <input name="BB4_id" type="number" class="form-control" required>
        </div>

        <!-- Blood Type -->
        <div class="col-md-4">
          <label class="form-label fw-semibold">Blood Type</label>
          <select name="Or_type" class="form-select" required>
            <option value="">-- Select Type --</option>
            <option value="A+">A+</option>
            <option value="A-">A-</option>
            <option value="B+">B+</option>
            <option value="B-">B-</option>
            <option value="AB+">AB+</option>
            <option value="AB-">AB-</option>
            <option value="O+">O+</option>
            <option value="O-">O-</option>
          </select>
        </div>

        <!-- Quantity -->
        <div class="col-md-4">
          <label class="form-label fw-semibold">Quantity (ml)</label>
          <input name="Or_quantity" type="number" class="form-control" required>
        </div>

      </div>

      <div class="text-center mt-4">
        <button class="btn btn-danger px-5 py-2 fw-semibold">
          üì§ Submit Blood Request
        </button>
      </div>

    </form>
  </div>

  <!-- VIEW ALL ORDERS OF THIS HOSPITAL -->
  <h4 class="text-center text-danger fw-bold mb-3">üßæ Blood Orders Submitted</h4>

  <table class="table table-bordered table-striped shadow-sm text-center">
    <thead class="table-danger">
      <tr>
        <th>Order ID</th>
        <th>Hospital</th>
        <th>Customer</th>
        <th>Blood Bank</th>
        <th>Type</th>
        <th>Quantity</th>
        <th>Status</th>
      </tr>
    </thead>

    <tbody>
      {% for o in orders %}
      <tr>
        <td>{{ o.OR_ID }}</td>
        <td>{{ o.HS_NAME }}</td>
        <td>{{ o.C_NAME }}</td>
        <td>{{ o.BB_NAME }}</td>
        <td>{{ o.OR_TYPE }}</td>
        <td>{{ o.OR_QUANTITY }}</td>
        <td>{{ o.OR_STATUS }}</td>
      </tr>
      {% endfor %}
      
      {% if not orders %}
      <tr><td colspan="7" class="text-muted">No orders submitted yet.</td></tr>
      {% endif %}
    </tbody>
  </table>

  <!-- ‚≠ê‚≠ê ADDED PAYMENT PAGE BUTTON ‚≠ê‚≠ê -->
  <div class="text-center my-4">
    <a href="/hospital_payment" class="btn btn-outline-danger px-5 py-2 fs-5 fw-bold">
      üí≥ Go to Payment Page
    </a>
  </div>

  <div class="text-center mt-4">
    <a href="/" class="btn btn-outline-dark px-5">‚¨Ö Back to Home</a>
  </div>

</div>

</body>
</html>
