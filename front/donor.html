<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Donor Portal - ARYAMS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">
<div class="container py-5">

  <h2 class="text-center text-danger mb-4">ðŸ©¸ Register New Donor</h2>

  <form method="POST" action="/donor" class="card p-4 shadow-sm mb-4">
    <div class="row g-3">

      <div class="col-md-6">
        <label class="form-label">Name</label>
        <input name="D_name" class="form-control" required>
      </div>

      <div class="col-md-6">
        <label class="form-label">Contact</label>
        <input name="D_contact" class="form-control" required>
      </div>

      <div class="col-md-6">
        <label class="form-label">Age</label>
        <input name="D_age" type="number" class="form-control" required>
      </div>

      <div class="col-md-6">
        <label class="form-label">Gender</label>
        <select name="D_gender" class="form-select">
          <option>Male</option>
          <option>Female</option>
        </select>
      </div>

      <!-- â­ ADD BLOOD TYPE HERE -->
      <div class="col-md-6">
        <label class="form-label">Blood Type</label>
        <select name="D_bloodtype" class="form-select" required>
          <option value="A+">A+</option>
          <option value="A-">A-</option>
          <option value="B+">B+</option>
          <option value="B-">B-</option>
          <option value="AB+">AB+</option>
          <option value="AB-">AB-</option>
          <option value="O+">O+</option>
          <option value="O-">O-</option>
        </select>
      </div>
      <!-- â­ END BLOOD TYPE FIELD -->

      <div class="col-12">
        <label class="form-label">Address</label>
        <textarea name="D_address" class="form-control" rows="2"></textarea>
      </div>

      <div class="col-12">
        <label class="form-label">Blood Bank ID</label>
        <input name="BB3_id" type="number" class="form-control">
      </div>

      <div class="text-center">
        <button class="btn btn-danger mt-3">Add Donor</button>
      </div>

    </div>
  </form>

  <h4 class="text-center text-danger mb-3">Registered Donors</h4>

  <table class="table table-bordered table-striped">
    <thead class="table-danger text-center">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Contact</th>
        <th>Age</th>
        <th>Gender</th>
        <th>Blood Type</th> <!-- â­ DISPLAY BLOOD TYPE -->
        <th>Address</th>
        <th>BloodBank ID</th>
        <th>History</th>
      </tr>
    </thead>

    <tbody>
      {% for d in donors %}
      <tr>
        <td>{{ d.D_ID }}</td>
        <td>{{ d.D_NAME }}</td>
        <td>{{ d.D_CONTACT }}</td>
        <td>{{ d.D_AGE }}</td>
        <td>{{ d.D_GENDER }}</td>
        <td>{{ d.D_BLOODTYPE }}</td> <!-- â­ NEW FIELD -->
        <td>{{ d.D_ADDRESS }}</td>
        <td>{{ d.BB3_ID }}</td>
        <td>{{ d.D_HISTORY }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="text-center mt-4">
    <a href="/" class="btn btn-outline-dark">â¬… Back to Home</a>
  </div>

</div>
</body>
</html>
