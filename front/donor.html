{% extends "base.html" %}
{% block content %}

<h2 class="text-center text-danger fw-bold mb-4">ðŸ©¸ Donor Registration</h2>

<div class="card shadow-sm p-4 mb-4 border-0 rounded-4">

    <h4 class="text-danger fw-bold mb-3 text-center">âž• Add Donor</h4>

    <form method="POST" action="/donor">

        <div class="row g-3">

            <div class="col-md-6">
                <label class="form-label fw-semibold">Name</label>
                <input type="text" name="D_name" class="form-control" required>
            </div>

            <div class="col-md-6">
                <label>Contact</label>
                <input type="text" name="D_contact" class="form-control" required>
            </div>

            <div class="col-md-12">
                <label>Address</label>
                <input type="text" name="D_address" class="form-control" required>
            </div>

            <div class="col-md-4">
                <label>Age</label>
                <input type="number" name="D_age" class="form-control" required>
            </div>

            <div class="col-md-4">
                <label>Gender</label>
                <select name="D_gender" class="form-select" required>
                    <option value="">Select</option>
                    <option>Male</option>
                    <option>Female</option>
                </select>
            </div>

            <div class="col-md-4">
                <label>Blood Type</label>
                <select name="D_bloodtype" class="form-select" required>
                    <option>A+</option><option>A-</option>
                    <option>B+</option><option>B-</option>
                    <option>O+</option><option>O-</option>
                    <option>AB+</option><option>AB-</option>
                </select>
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold">Registered Bloodbank</label>
                <select name="BB3_id" class="form-select" required>
                    <option value="">Select Bloodbank</option>
                    {% for b in bloodbanks %}
                        <option value="{{ b[0] }}">{{ b[1] }}</option>
                    {% endfor %}
                </select>
            </div>

        </div>

        <div class="text-center mt-3">
            <button type="submit" class="btn btn-danger px-5 py-2">
                Register Donor
            </button>
        </div>

    </form>
</div>


<h4 class="text-danger fw-bold mb-3 text-center">ðŸ“‹ Donor List</h4>

{% if donors %}
<table class="table table-bordered table-striped shadow-sm text-center">
    <thead class="table-danger">
        <tr>
            {% for h in headers %}
                <th>{{ h }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for row in donors %}
        <tr>
            {% for c in row %}
                <td>{{ c }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p class="text-center text-muted">No donors found.</p>
{% endif %}

{% endblock %}
